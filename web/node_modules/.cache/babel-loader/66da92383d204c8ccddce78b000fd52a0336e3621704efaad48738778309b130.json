{"ast":null,"code":"import { ref } from 'vue';\nimport { Notification } from '@arco-design/web-vue';\nconst __default__ = {\n  name: 'MainPage'\n};\nexport default /*#__PURE__*/Object.assign(__default__, {\n  emits: ['postSearchRequest', 'postKeyWord', 'postOrder'],\n  setup(__props, {\n    expose: __expose,\n    emit: emits\n  }) {\n    __expose();\n\n    // 轮播图url数组\n    // const props = defineProps({images:Array})\n\n    // 存储待搜索关键词的变量\n    const key_words = ref('');\n    // 存储搜索结果\n    // const plant_result = ref({ flower_name: '大王花对对对', flower_type: '霸王拿书', flower_intro: '1111', pics: ['flowers1.jpg', 'flowers1.jpg', 'flowers1.jpg'] })\n\n    const imgInput = ref();\n\n    //关键词，识别结果\n    const search_by_keywords = () => {\n      console.log(key_words.value);\n      let regu = \"^[ ]+$\";\n      let re = new RegExp(regu);\n      if (key_words.value != '' && !re.test(key_words.value)) {\n        emits('postKeyWord', key_words.value);\n      } else {\n        handleNotification();\n      }\n    };\n    // 传输n图片用于搜索\n    const showImg = () => {\n      let file = imgInput.value.files[0];\n      if (file != undefined) {\n        emits('postSearchRequest', file);\n      }\n      imgInput.value.value = null;\n    };\n    const handleNotification = () => {\n      Notification.warning({\n        title: '错误提示',\n        content: '请输入非空内容',\n        closable: true,\n        duration: 4000,\n        style: {\n          width: '500px'\n        }\n      });\n    };\n    const __returned__ = {\n      emits,\n      key_words,\n      imgInput,\n      search_by_keywords,\n      showImg,\n      handleNotification,\n      ref,\n      get Notification() {\n        return Notification;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n});","map":{"version":3,"names":["ref","Notification","__default__","name","key_words","imgInput","search_by_keywords","console","log","value","regu","re","RegExp","test","emits","handleNotification","showImg","file","files","undefined","warning","title","content","closable","duration","style","width"],"sources":["D:/大软/GiantIsopod-Front-main/web/src/components/MainPage.vue"],"sourcesContent":["<template>\n    <div>\n        <img src=\"../assets/logoMain.png\" id=\"logo_main\">\n        <div id=\"search_box\">\n            <a-input-search style=\"margin-left: 28vw;float: left;margin-right: 25px;\" :style=\"{ width: '700px' }\"\n                size=\"large\" placeholder=\"搜索图片\" search-button v-on:search=\"search_by_keywords\" v-model=\"key_words\" />\n            <div class=\"upload-container\">\n                <img src=\"../assets/camera.png\" style=\"float: left;height: 65px;\" title=\"请上传jpg或png格式的图片\">\n                <label for=\"pic\" title=\"请上传jpg或png格式的图片\">上传图片</label>\n                <input ref=\"imgInput\" type=\"file\" name=\"pic\" id=\"pic\" v-on:input=\"showImg\" accept=\"image/png, image/jpg\"\n                    style=\"display: none\">\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'MainPage',\n}\n</script>\n\n<script setup>\nimport { ref, defineEmits } from 'vue';\nimport { Notification } from '@arco-design/web-vue';\nconst emits = defineEmits(['postSearchRequest', 'postKeyWord', 'postOrder']);\n\n// 轮播图url数组\n// const props = defineProps({images:Array})\n\n// 存储待搜索关键词的变量\nconst key_words = ref('')\n// 存储搜索结果\n// const plant_result = ref({ flower_name: '大王花对对对', flower_type: '霸王拿书', flower_intro: '1111', pics: ['flowers1.jpg', 'flowers1.jpg', 'flowers1.jpg'] })\n\nconst imgInput = ref()\n\n//关键词，识别结果\nconst search_by_keywords = () => {\n    console.log(key_words.value)\n    let regu = \"^[ ]+$\";\n    let re = new RegExp(regu);\n\n    if (key_words.value != '' && !re.test(key_words.value)) {\n        emits('postKeyWord', key_words.value)\n    } else {\n        handleNotification();\n    }\n\n}\n// 传输n图片用于搜索\nconst showImg = () => {\n    let file = imgInput.value.files[0];\n    if (file != undefined) {\n        emits('postSearchRequest', file);\n    }\n    imgInput.value.value = null;\n\n};\n\nconst handleNotification = () => {\n    Notification.warning({\n        title: '错误提示',\n        content: '请输入非空内容',\n        closable: true,\n        duration: 4000,\n        style: { width: '500px' }\n    })\n}\n</script>\n\n<style scoped>\n#logo_main {\n    width: 30vw;\n    height: 20vh;\n    margin: 15vh 15vh 0;\n}\n\n#search_box {\n    margin-left: -19vw;\n}\n\n.upload-container {\n    text-align: center;\n    float: left;\n    background: rgba(7, 54, 36, 0.9);\n    border-radius: 6px;\n    padding: 0 10px;\n}\n\n.upload-container label {\n    padding: 12px;\n    color: white;\n    cursor: pointer;\n    font-size: 3.8vh;\n    float: left;\n}\n</style>\n<style>\n.arco-input-wrapper .arco-input.arco-input-size-large {\n    padding-top: 9px !important;\n    padding-bottom: 9px !important;\n    font-size: 28px !important;\n}\n\n.arco-btn-size-large.arco-btn-only-icon {\n    width: 60px !important;\n    height: 60px !important;\n}\n\n.arco-btn-primary,\n.arco-btn-primary[type='button'],\n.arco-btn-primary[type='submit'] {\n    background-color: green !important;\n    margin-right: 1.5px;\n}\n\n/*.arco-carousel-card .arco-carousel-item-prev {*/\n/*    opacity: 1 !important;*/\n/*}*/\n\n/*.arco-carousel-card .arco-carousel-item-next {*/\n/*    opacity: 1 !important;*/\n/*}*/\n</style>\n"],"mappings":"AAuBA,SAASA,GAAgB,QAAQ,KAAK;AACtC,SAASC,YAAY,QAAQ,sBAAsB;AAPnD,MAAAC,WAAA,GAAe;EACXC,IAAI,EAAE;AACV,CAAC;;;;;;;;;IAQD;IACA;;IAEA;IACA,MAAMC,SAAS,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACzB;IACA;;IAEA,MAAMK,QAAQ,GAAGL,GAAG,CAAC,CAAC;;IAEtB;IACA,MAAMM,kBAAkB,GAAGA,CAAA,KAAM;MAC7BC,OAAO,CAACC,GAAG,CAACJ,SAAS,CAACK,KAAK,CAAC;MAC5B,IAAIC,IAAI,GAAG,QAAQ;MACnB,IAAIC,EAAE,GAAG,IAAIC,MAAM,CAACF,IAAI,CAAC;MAEzB,IAAIN,SAAS,CAACK,KAAK,IAAI,EAAE,IAAI,CAACE,EAAE,CAACE,IAAI,CAACT,SAAS,CAACK,KAAK,CAAC,EAAE;QACpDK,KAAK,CAAC,aAAa,EAAEV,SAAS,CAACK,KAAK,CAAC;MACzC,CAAC,MAAM;QACHM,kBAAkB,CAAC,CAAC;MACxB;IAEJ,CAAC;IACD;IACA,MAAMC,OAAO,GAAGA,CAAA,KAAM;MAClB,IAAIC,IAAI,GAAGZ,QAAQ,CAACI,KAAK,CAACS,KAAK,CAAC,CAAC,CAAC;MAClC,IAAID,IAAI,IAAIE,SAAS,EAAE;QACnBL,KAAK,CAAC,mBAAmB,EAAEG,IAAI,CAAC;MACpC;MACAZ,QAAQ,CAACI,KAAK,CAACA,KAAK,GAAG,IAAI;IAE/B,CAAC;IAED,MAAMM,kBAAkB,GAAGA,CAAA,KAAM;MAC7Bd,YAAY,CAACmB,OAAO,CAAC;QACjBC,KAAK,EAAE,MAAM;QACbC,OAAO,EAAE,SAAS;QAClBC,QAAQ,EAAE,IAAI;QACdC,QAAQ,EAAE,IAAI;QACdC,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAQ;MAC5B,CAAC,CAAC;IACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}